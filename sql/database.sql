BEGIN;

CREATE TABLE tutorials(
	"id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"title" TEXT NOT NULL,
	"description" TEXT NOT NULL;
	"level" INTEGER DEFAULT 1,
	"is_published" BOOLEAN NOT NULL DEFAULT FALSE;
	"user_id" INTEGER NOT NULL REFERENCES "users"("id") ON DELETE CASCADE,
	"created_at" TIMESTAMPTZ NOT NULL DEFAULT now(),
	"updated_at" TIMESTAMPTZ
);

CREATE TABLE users(
	"id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"name" TEXT NOT NULL,
	"sex" TEXT NOT NULL DEFAULT 'men',
	"email" TEXT NOT NULL,
	"login" TEXT NOT NULL, 
	"password" TEXT NOT NULL,
	"created_at" TIMESTAMPTZ NOT NULL DEFAULT now(),
	"updated_at" TIMESTAMPTZ
);

CREATE TABLE accounts(
	"id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"user_id" INTEGER NOT NULL REFERENCES "users"("id") ON DELETE CASCADE,
	"is_active" BOOLEAN NOT NULL DEFAULT FALSE,
	"activation_dead_line" TIMESTAMPTZ,
	"is_locked" BOOLEAN NOT NULL DEFAULT FALSE,
	"is_delete" BOOLEAN NOT NULL DEFAULT FALSE,
	"created_at" TIMESTAMPTZ NOT NULL DEFAULT now(),
	"updated_at" TIMESTAMPTZ
)

COMMIT;
